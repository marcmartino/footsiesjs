function existy(a){return null!=a}function truthy(a){return a!==!1&&existy(a)}function cat(){var a=_.first(arguments);return existy(a)?a.concat.apply(a,_.rest(arguments)):[]}function construct(a,b){return cat([a],_.toArray(b))}var footsies={extend:function(a){var b;for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);return this},storeDB:function(a){var b;for(b in a)if(a.hasOwnProperty(b)){{var c=a[b];new Date(c.raw.feed.updated.$t).toDateString()}footsies.db[b]=c.elements}},init:function(a){return a.callback=footsies.storeDB,Tabletop.init(a),this}};footsies.extend({db:{},selectAll:_.filter,selectOne:_.find,selectColumns:function(a,b){return _.map(footsies.rowFunc(footsies.pick,a),b)}.autoCurry(2),as:function(a,b){return _.map(footsies.rowFunc(footsies.rename,a),b)}.autoCurry(2),restrict:function(a,b){return _.reduce(function(b,c){return truthy(a(c))?b:_.without(b,c)},b,b)}.autoCurry(2),sort:_.sortBy,innerJoin:function(a,b,c){var d=_.keys(a),e=footsies.rename(a);return _.reduce(function(a,b){var f=e(footsies.findValues(d,b)),g=footsies.selectAll(f,c),h=_.map(function(a){return _.merge(b,a)},g);return a.concat(h)},[],b)},leftJoin:function(a,b,c){var d=_.keys(a),e=footsies.rename(a);return _.reduce(function(a,b){var f=e(footsies.findValues(d,b)),g=footsies.selectAll(f,c),h=_.map(function(a){return _.merge(b,a)},g);return a.concat(g.length>0?h:b)},[],b)},findValues:function(a,b){return _.reduce(function(a,c){return a[c]=b[c],a},{},a)},getRowValues:function(a,b){return _.reduce(function(b,c,d){return a[d]&&(b[d]=a[d]),b},{},b)},rename:function(a,b){return _.reduce(function(a,c,d){return _.has(b,d)&&(a[c]=b[d],delete a[d]),a},_.clone(b),a)}.autoCurry(2),pick:function(a,b){return _.reduce(function(a,c){return existy(b[c])&&(a[c]=b[c]),a},{},a)},rowFunc:function(a,b){return function(c){return a(b,c)}}});